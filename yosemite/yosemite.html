<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Demo App - (Yosemite)</title>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="theme/css/theme.css" rel="stylesheet" media="screen">

  </head>
  <body>
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="-webkit-app-region: drag">
          <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                  <li class="close-button" style="-webkit-app-region: no-drag" onClick="win.close();"></li>
                  <li class="minimize-button" style="-webkit-app-region: no-drag" onClick="win.minimize();"></li>
                  <li class="fullscreen-button fullscreen-expand" style="-webkit-app-region: no-drag" onClick="win.toggleFullscreen();"></li>
              </ul>
              <ul class="nav navbar-nav" style="-webkit-app-region: no-drag">
                  <div class="btn btn-default" onClick="window.history.back();">
                      <div class="back-button"></div>
                  </div>
                  <div class="btn btn-disabled">
                      <div class="forward-button"></div>
                  </div>
              </ul>
              <ul class="program-title">
                  <div class="program-name">Demo Yosemite Application in node-webkit</div>
              </ul>
              <ul class="nav navbar-nav pull-right btn btn-default push-settings" style="-webkit-app-region: no-drag">
                  <div class="dropdown">
                      <div class="row dropdown-toggle" data-toggle="dropdown">
                          <div class="cog-button"></div>
                      </div>
                      <ul class="dropdown-menu pull-right" role="menu">
                          <li><a href="#">Action</a></li>
                          <li><a href="#">Another action</a></li>
                          <li><a href="#">Something else here</a></li>
                          <li class="divider"></li>
                          <li><a href="#">Separated link</a></li>
                      </ul>
                  </div>
              </ul>
          </div><!--/.nav-collapse -->
      </nav>

    <div class="container-fluid container">

      <div class="content">
        <h1>Yosemite node-webkit Shell!</h1>
        <p class="lead">You can use this theme to make your app look like a native Yosemite Application!</p>
      </div>

    </div><!-- /.container -->

      <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
      <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
      <script>

      process.on('uncaughtException', function (err) {
          window.console.error(err, err.stack);
          alert(err);
      });
          var gui = require('nw.gui'),
              win = gui.Window.get();

          //   OS X Application Menu

          if (process.platform === "darwin") {

              var nativeMenuBar = new gui.Menu({ type: "menubar" }),
                  help = new gui.Menu();


              nativeMenuBar.createMacBuiltin("nw-shell", {
                  hideEdit: false,
                  hideWindow: false
              });

              // Help Menu
              nativeMenuBar.append(
                  new gui.MenuItem({
                      label: 'Help',
                      submenu: help
                  }), 4
              );

              // DevTools
              help.append(
                  new gui.MenuItem({
                      label: 'DevTools',
                      click: function() {
                          win.showDevTools();
                      }
                  })
              );

              win.menu = nativeMenuBar;
          }

          // Listen to the minimize event
          win.on('minimize', function() {
              console.log('Window is minimized');
          });

          win.on('hide', function() {
             console.log('Window is hidden. This is where you would throw a callback in to enable show()');
            //  Something like this.
            //  win.on('focus', function() {
            //      win.show();
            //  });
          });

          // Toggle between Fullscreen icons

          $( ".fullscreen-button" ).click(function() {
              var $this = $(".fullscreen-button");
              if ($this.hasClass("fullscreen-expand")) {
                  $this.removeClass("fullscreen-expand").addClass("fullscreen-compress");
                  return;
              }
              // End IF statement

              if ($this.hasClass("fullscreen-compress")) {
                  $this.removeClass("fullscreen-compress").addClass("fullscreen-expand");
                  return;
              }
              // End IF statement

          });
          // End of .click
      </script>
    </body>
</html>
