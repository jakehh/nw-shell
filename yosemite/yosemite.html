<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Demo App - (Yosemite)</title>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="theme/css/theme.css" rel="stylesheet" media="screen">

  </head>
  <body>
      <nav class="navbar navbar-default navbar-fixed-top" id="headerbar" role="navigation" style="-webkit-app-region: drag">
            <!-- Collect the nav links, forms, and other content for toggling -->

            <div class="collapse navbar-collapse" draggable="false" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav appbuttons close-project" style="-webkit-app-region: no-drag">
                <li class="pull-left closebutton close-button" draggable="false" onClick="win.close();"></li>
                <li class="minimize-button" onClick="win.minimize();"></li>
                <li class="fullscreen-button fullscreen-expand" onClick="win.toggleFullscreen();"></li>
              </ul>
              <!-- Always showing App Control Buttons (Close/Max/Min) -->

              <div class="nav navbar-nav projectnav text-center">
                <div class="titlebar">
                  <p class="title">Demo Yosemite Style</p>
                  <p class="project">Based on Bootstrap!</p>
                </div>
              </div>
              <!-- Project Center (Project Title & Project Location) -->

              <ul class="nav navbar-nav navbar-right projectnav" id="projectNav">
                <li class="dropdown">
                  <a href="#preferences" class="dropdown-toggle" data-toggle="dropdown" draggable="false"><div class="btn btn-default"><div class="cog-button"></div></div></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a href="#" draggable="false">Link</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="#" draggable="false">Link</a>
                    </li>
                  </ul>
                </li>
              </ul>
              <!-- Right Project Navigation (BPM, Menu, Preferences & Fullscreen) -->
            </div><!-- /.navbar-collapse -->
          </nav>
          <!-- End Navigation -->

          <div class="container-fluid">
            <div class="row-fluid">
              <div>
                <!-- Start Timeline / DAW Contents -->
                <div class="span9">
                  Content
                </div>
              </div>
              <!-- End Timeline / DAW -->

            </div>
          </div>
          <!-- End Project Page -->

      <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
      <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
      <script>

      process.on('uncaughtException', function (err) {
          window.console.error(err, err.stack);
          alert(err);
      });
          var gui = require('nw.gui'),
              win = gui.Window.get();

          //   OS X Application Menu

          if (process.platform === "darwin") {

              var nativeMenuBar = new gui.Menu({ type: "menubar" }),
                  help = new gui.Menu();


              nativeMenuBar.createMacBuiltin("nw-shell", {
                  hideEdit: false,
                  hideWindow: false
              });

              // Help Menu
              nativeMenuBar.append(
                  new gui.MenuItem({
                      label: 'Help',
                      submenu: help
                  }), 4
              );

              // DevTools
              help.append(
                  new gui.MenuItem({
                      label: 'DevTools',
                      click: function() {
                          win.showDevTools();
                      }
                  })
              );

              win.menu = nativeMenuBar;
          }

          // Listen to the minimize event
          win.on('minimize', function() {
              console.log('Window is minimized');
          });

          win.on('hide', function() {
             console.log('Window is hidden. This is where you would throw a callback in to enable show()');
            //  Something like this.
            //  win.on('focus', function() {
            //      win.show();
            //  });
          });

          // Toggle between Fullscreen icons

          $( ".fullscreen-button" ).click(function() {
              var $this = $(".fullscreen-button");
              if ($this.hasClass("fullscreen-expand")) {
                  $this.removeClass("fullscreen-expand").addClass("fullscreen-compress");
                  return;
              }
              // End IF statement

              if ($this.hasClass("fullscreen-compress")) {
                  $this.removeClass("fullscreen-compress").addClass("fullscreen-expand");
                  return;
              }
              // End IF statement

          });
          // End of .click
      </script>
    </body>
</html>
